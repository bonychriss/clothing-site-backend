{"version":3,"file":"static/js/122.a35028b2.chunk.js","mappings":"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","sources":["pages/Profile.js","utils/api.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { fetchFromApi as apiFetch } from '../utils/api';\r\n\r\n// Logout logic\r\nconst handleLogout = () => {\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('token');\r\n  window.location.href = '/login';\r\n};\r\n// Simple icon placeholders (replace with real icons or SVGs as needed)\r\nconst UserIcon = () => <span style={{ fontSize: 28, marginRight: 12 }}>üë§</span>;\r\nconst EmailIcon = () => <span style={{ fontSize: 22, marginRight: 10 }}>üìß</span>;\r\nconst CalendarIcon = () => <span style={{ fontSize: 22, marginRight: 10 }}>üìÖ</span>;\r\nconst AddressIcon = () => <span style={{ fontSize: 20, marginRight: 8 }}>üè†</span>;\r\nconst StatusBadge = ({ status }) => (\r\n  <span style={{\r\n    display: 'inline-block',\r\n    padding: '0.2em 0.8em',\r\n    borderRadius: 12,\r\n    background: status === 'Delivered' ? '#d4f8e8' : '#ffe7ba',\r\n    color: status === 'Delivered' ? '#1a7f37' : '#b8860b',\r\n    fontWeight: 600,\r\n    fontSize: '0.95em',\r\n    marginLeft: 8\r\n  }}>{status}</span>\r\n);\r\n\r\nfunction Profile() {\r\n  const localUser = (() => {\r\n    try {\r\n      return JSON.parse(localStorage.getItem('user'));\r\n    } catch {\r\n      return null;\r\n    }\r\n  })();\r\n  const [profilePhoto, setProfilePhoto] = useState(null);\r\n  const [photoPreview, setPhotoPreview] = useState(null);\r\n  const [user, setUser] = useState(localUser);\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [passwordForm, setPasswordForm] = useState({ oldPassword: '', newPassword: '' });\r\n  const [passwordMsg, setPasswordMsg] = useState('');\r\n  const [expandedOrder, setExpandedOrder] = useState(null);\r\n\r\n  // Handle profile photo selection\r\n  const handlePhotoChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setProfilePhoto(file);\r\n      setPhotoPreview(URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  // Implement upload logic\r\n  const handlePhotoUpload = async () => {\r\n    if (!profilePhoto) return;\r\n    const token = localStorage.getItem('token');\r\n    const formData = new FormData();\r\n    formData.append('photo', profilePhoto);\r\n    try {\r\n      const data = await apiFetch('/api/auth/upload-photo', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: formData\r\n      });\r\n      if (data.avatarUrl) {\r\n        setUser(u => ({ ...u, avatarUrl: data.avatarUrl }));\r\n        setProfilePhoto(null);\r\n        setPhotoPreview(null);\r\n        alert('Profile photo updated!');\r\n      } else {\r\n        alert(data.message || 'Failed to upload photo.');\r\n      }\r\n    } catch (err) {\r\n      alert('Error uploading photo.');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    Promise.all([\r\n      apiFetch('/api/auth/me', { headers: { 'Authorization': `Bearer ${token}` } }),\r\n      apiFetch('/api/orders/my', { headers: { 'Authorization': `Bearer ${token}` } })\r\n    ])\r\n      .then(([userData, ordersData]) => {\r\n        setUser(userData);\r\n        console.log('Orders data from backend:', ordersData);\r\n        setOrders(Array.isArray(ordersData) ? ordersData : []);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setError('Failed to load profile');\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const handlePasswordChange = async (e) => {\r\n    e.preventDefault();\r\n    setPasswordMsg('');\r\n    const token = localStorage.getItem('token');\r\n    try {\r\n      const data = await apiFetch('/api/auth/change-password', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(passwordForm)\r\n      });\r\n      setPasswordMsg('Password changed successfully.');\r\n      setPasswordForm({ oldPassword: '', newPassword: '' });\r\n    } catch (err) {\r\n      setPasswordMsg(err.message || 'Failed to change password.');\r\n    }\r\n  };\r\n\r\n  if (loading)\r\n    return (\r\n      <div style={{ minHeight: '100vh', background: 'linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%)', fontFamily: 'Inter, Arial, sans-serif', padding: '0 0.5rem' }}>\r\n        <div style={{ maxWidth: 1100, margin: '3rem auto', background: '#fff', borderRadius: 20, boxShadow: '0 6px 32px rgba(0,0,0,0.08)', padding: '2.5rem 2rem' }}>\r\n          <h2 style={{ textAlign: 'center', fontWeight: 700, fontSize: '2rem', marginBottom: '2rem', letterSpacing: 1 }}>User Profile</h2>\r\n          <p>Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  if (error)\r\n    return (\r\n      <div style={{ minHeight: '100vh', background: 'linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%)', fontFamily: 'Inter, Arial, sans-serif', padding: '0 0.5rem' }}>\r\n        <div style={{ maxWidth: 1100, margin: '3rem auto', background: '#fff', borderRadius: 20, boxShadow: '0 6px 32px rgba(0,0,0,0.08)', padding: '2.5rem 2rem' }}>\r\n          <h2 style={{ textAlign: 'center', fontWeight: 700, fontSize: '2rem', marginBottom: '2rem', letterSpacing: 1 }}>User Profile</h2>\r\n          <p style={{ color: 'red' }}>{error}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  // Responsive: stack columns on mobile\r\n  const mediaQuery = `\r\n    @media (max-width: 900px) {\r\n      .profile-columns {\r\n        flex-direction: column !important;\r\n      }\r\n    }\r\n  `;\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', background: 'linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%)', fontFamily: 'Inter, Arial, sans-serif', padding: '0 0.5rem' }}>\r\n      <style>{mediaQuery}</style>\r\n      <div style={{ maxWidth: 1100, margin: '3rem auto', background: '#fff', borderRadius: 20, boxShadow: '0 6px 32px rgba(0,0,0,0.08)', padding: '2.5rem 2rem', display: 'flex', flexDirection: 'column', gap: '2rem' }}>\r\n        <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: '-1.5rem' }}>\r\n          <button onClick={handleLogout} style={{ background: '#FFD700', color: '#222', fontWeight: 700, border: 'none', borderRadius: 8, padding: '0.7rem 1.5rem', fontSize: '1rem', cursor: 'pointer', boxShadow: '0 2px 8px rgba(0,0,0,0.04)' }}>Logout</button>\r\n        </div>\r\n        {/* Header with avatar, name, email */}\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1.5rem', borderBottom: '1px solid #eee', paddingBottom: '1.5rem', marginBottom: '2rem' }}>\r\n          <div style={{ position: 'relative', width: 90, height: 90 }}>\r\n            <div style={{ width: 90, height: 90, borderRadius: '50%', background: 'linear-gradient(135deg, #fffbe6 0%, #ffd700 100%)', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: 38, fontWeight: 700, color: '#b8860b', boxShadow: '0 2px 8px rgba(0,0,0,0.07)' }}>\r\n              {photoPreview ? (\r\n                <img src={photoPreview} alt=\"profile preview\" style={{ width: '100%', height: '100%', borderRadius: '50%', objectFit: 'cover' }} />\r\n              ) : user?.avatarUrl ? (\r\n                <img src={user.avatarUrl} alt=\"avatar\" style={{ width: '100%', height: '100%', borderRadius: '50%' }} />\r\n              ) : (\r\n                user?.name ? user.name[0].toUpperCase() : <UserIcon />\r\n              )}\r\n            </div>\r\n            <label htmlFor=\"profile-photo-upload\" style={{ position: 'absolute', bottom: -10, right: -10, background: '#FFD700', borderRadius: '50%', padding: 8, boxShadow: '0 2px 8px rgba(0,0,0,0.10)', cursor: 'pointer', border: '2px solid #fff' }}>\r\n              <span role=\"img\" aria-label=\"upload\" style={{ fontSize: 22 }}>üì∑</span>\r\n              <input id=\"profile-photo-upload\" type=\"file\" accept=\"image/*\" style={{ display: 'none' }} onChange={handlePhotoChange} />\r\n            </label>\r\n            {profilePhoto && (\r\n              <button type=\"button\" onClick={handlePhotoUpload} style={{ position: 'absolute', top: -10, right: -10, background: '#fff', color: '#FFD700', border: '1px solid #FFD700', borderRadius: 8, padding: '0.3em 0.7em', fontWeight: 600, fontSize: '0.95em', cursor: 'pointer', boxShadow: '0 2px 8px rgba(0,0,0,0.07)' }}>Upload</button>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <div style={{ fontWeight: 700, fontSize: '1.3rem', marginBottom: 4 }}>{user?.name}</div>\r\n            <div style={{ color: '#888', fontSize: '1.05rem', marginBottom: 2 }}>\r\n              <EmailIcon /> {user?.email}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Two columns */}\r\n        <div className=\"profile-columns\" style={{ display: 'flex', gap: '2rem', flexWrap: 'wrap' }}>\r\n          {/* Left column: profile info + password */}\r\n          <div style={{ flex: 1, minWidth: 320, display: 'flex', flexDirection: 'column', gap: '2rem' }}>\r\n            {/* Profile Info Card */}\r\n            <div style={{ background: '#f7f7fa', borderRadius: 14, boxShadow: '0 2px 12px rgba(0,0,0,0.04)', padding: '1.5rem 1.2rem', marginBottom: '1.5rem' }}>\r\n              <h3 style={{ fontWeight: 600, fontSize: '1.15rem', marginBottom: '1rem' }}>Profile Details</h3>\r\n              <div style={{ display: 'flex', alignItems: 'center', fontSize: '1.08rem', marginBottom: 12 }}><UserIcon /> <span><strong>Name:</strong> {user?.name}</span></div>\r\n              <div style={{ display: 'flex', alignItems: 'center', fontSize: '1.08rem', marginBottom: 12 }}><EmailIcon /> <span><strong>Email:</strong> {user?.email}</span></div>\r\n              {user?.registeredAt && (\r\n                <div style={{ display: 'flex', alignItems: 'center', fontSize: '1.08rem', marginBottom: 12 }}><CalendarIcon /> <span><strong>Registered At:</strong> {new Date(user.registeredAt).toLocaleDateString()}</span></div>\r\n              )}\r\n              {/* Add other registration details here */}\r\n            </div>\r\n            {/* Password Change Card */}\r\n            <div style={{ background: '#f7f7fa', borderRadius: 14, boxShadow: '0 2px 12px rgba(0,0,0,0.04)', padding: '1.5rem 1.2rem', marginBottom: '1.5rem' }}>\r\n              <h3 style={{ fontWeight: 600, fontSize: '1.15rem', marginBottom: '1rem' }}>Change Password</h3>\r\n              <form onSubmit={handlePasswordChange} style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Current Password\"\r\n                  value={passwordForm.oldPassword}\r\n                  onChange={e => setPasswordForm(f => ({ ...f, oldPassword: e.target.value }))}\r\n                  required\r\n                  style={{ padding: '0.7rem 1rem', borderRadius: 8, border: '1px solid #ddd', fontSize: '1rem' }}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"New Password\"\r\n                  value={passwordForm.newPassword}\r\n                  onChange={e => setPasswordForm(f => ({ ...f, newPassword: e.target.value }))}\r\n                  required\r\n                  style={{ padding: '0.7rem 1rem', borderRadius: 8, border: '1px solid #ddd', fontSize: '1rem' }}\r\n                />\r\n                <button type=\"submit\" style={{ background: '#FFD700', color: '#222', fontWeight: 600, border: 'none', borderRadius: 8, padding: '0.8rem 0', fontSize: '1rem', cursor: 'pointer', boxShadow: '0 2px 8px rgba(0,0,0,0.04)' }}>Change Password</button>\r\n              </form>\r\n              {passwordMsg && (\r\n                <span style={{\r\n                  display: 'inline-block',\r\n                  padding: '0.3em 1em',\r\n                  borderRadius: 14,\r\n                  background: passwordMsg.includes('success') ? '#d4f8e8' : '#ffe7ba',\r\n                  color: passwordMsg.includes('success') ? '#1a7f37' : '#b8860b',\r\n                  fontWeight: 600,\r\n                  fontSize: '1em',\r\n                  marginTop: 8\r\n                }}>\r\n                  {passwordMsg}\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          {/* Right column: order history */}\r\n          <div style={{ flex: 1.2, minWidth: 320 }}>\r\n            <div style={{ background: '#f7f7fa', borderRadius: 14, boxShadow: '0 2px 12px rgba(0,0,0,0.04)', padding: '1.5rem 1.2rem', marginBottom: '1.5rem' }}>\r\n              <h3 style={{ fontWeight: 600, fontSize: '1.15rem', marginBottom: '1rem' }}>Order History</h3>\r\n              {orders.length === 0 ? (\r\n                <p style={{ fontSize: '1.05rem', color: '#888' }}>No orders yet.</p>\r\n              ) : (\r\n                orders.map(order => {\r\n                  const expanded = expandedOrder === (order._id || order.id);\r\n                  return (\r\n                    <div\r\n                      key={order._id || order.id}\r\n                      style={{\r\n                        marginBottom: '1.2rem',\r\n                        border: '1px solid #FFD700',\r\n                        background: '#fffbe6',\r\n                        borderRadius: 12,\r\n                        boxShadow: expanded ? '0 4px 16px rgba(218,165,32,0.10)' : '0 1px 4px rgba(0,0,0,0.03)',\r\n                        padding: '1rem 1.2rem',\r\n                        cursor: 'pointer',\r\n                        transition: 'box-shadow 0.2s'\r\n                      }}\r\n                      onClick={() => setExpandedOrder(expanded ? null : (order._id || order.id))}\r\n                    >\r\n                      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                        <div>\r\n                          <span style={{ fontWeight: 600 }}><strong>Order ID:</strong> {order._id || order.id}</span>\r\n                          <StatusBadge status={order.status} />\r\n                        </div>\r\n                        <span style={{ fontSize: 18, marginLeft: 12 }}>{expanded ? '‚ñ≤' : '‚ñº'}</span>\r\n                      </div>\r\n                      <div style={expanded ? { maxHeight: 500, transition: 'max-height 0.3s' } : { overflow: 'hidden', maxHeight: 0, transition: 'max-height 0.3s' }}>\r\n                        <div style={{ marginTop: 10 }}>\r\n                          <div style={{ display: 'flex', alignItems: 'center', fontSize: '1.08rem', marginBottom: 12 }}><AddressIcon /> <span><strong>Delivery Address:</strong> {order.customer?.address}</span></div>\r\n                          <h4 style={{ margin: '1rem 0 0.5rem 0', fontWeight: 600 }}>Items:</h4>\r\n                          <ul style={{ paddingLeft: 18 }}>\r\n                            {(order.items || []).map((item, idx) => (\r\n                              <li key={idx} style={{ fontSize: '1rem', marginBottom: 4 }}>{item.name} x {item.quantity}</li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","// Basic API utility for making requests\r\n// You can customize this as needed for your project\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'https://sabor-espanol-ed87.onrender.com';\r\n\r\nexport async function fetchFromApi(endpoint, options = {}) {\r\n  const res = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n    credentials: 'include',\r\n    ...options,\r\n  });\r\n  if (!res.ok) {\r\n    // Try to parse the error response from the server\r\n    try {\r\n      const errorData = await res.json();\r\n      // Create a new error object with the server's message\r\n      const error = new Error(errorData.message || `API error: ${res.status}`);\r\n      error.data = errorData; // Attach full error data\r\n      throw error;\r\n    } catch (e) {\r\n      // If parsing fails, throw a generic error\r\n      throw new Error(`API error: ${res.status}`);\r\n    }\r\n  }\r\n  return res.json();\r\n}\r\n"],"names":["handleLogout","localStorage","removeItem","window","location","href","UserIcon","_jsx","style","fontSize","marginRight","children","EmailIcon","CalendarIcon","AddressIcon","StatusBadge","_ref","status","display","padding","borderRadius","background","color","fontWeight","marginLeft","localUser","JSON","parse","getItem","_unused","profilePhoto","setProfilePhoto","useState","photoPreview","setPhotoPreview","user","setUser","orders","setOrders","loading","setLoading","error","setError","passwordForm","setPasswordForm","oldPassword","newPassword","passwordMsg","setPasswordMsg","expandedOrder","setExpandedOrder","useEffect","token","Promise","all","apiFetch","headers","concat","then","_ref2","userData","ordersData","console","log","Array","isArray","catch","minHeight","fontFamily","_jsxs","maxWidth","margin","boxShadow","textAlign","marginBottom","letterSpacing","flexDirection","gap","justifyContent","onClick","border","cursor","alignItems","borderBottom","paddingBottom","position","width","height","src","alt","objectFit","avatarUrl","name","toUpperCase","htmlFor","bottom","right","role","id","type","accept","onChange","e","file","target","files","URL","createObjectURL","async","formData","FormData","append","data","method","body","u","_objectSpread","alert","message","err","top","email","className","flexWrap","flex","minWidth","registeredAt","Date","toLocaleDateString","onSubmit","preventDefault","stringify","placeholder","value","f","required","includes","marginTop","length","map","order","_order$customer","expanded","_id","transition","maxHeight","overflow","customer","address","paddingLeft","items","item","idx","quantity","API_BASE_URL","process","fetchFromApi","endpoint","options","arguments","undefined","res","fetch","credentials","ok","errorData","json","Error"],"sourceRoot":""}