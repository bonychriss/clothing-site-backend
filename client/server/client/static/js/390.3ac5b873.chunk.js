"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[390],{390:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var r=n(43),o=n(60),i=n(862),a=n(579);const l=function(){const[e,t]=(0,r.useState)(""),[n,l]=(0,r.useState)(""),[s,d]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,g]=(0,r.useState)("");r.useEffect(()=>{const e={Tanzania:"+255",Kenya:"+254",Uganda:"+256",Rwanda:"+250",Burundi:"+257","South Africa":"+27",Nigeria:"+234",Ghana:"+233"};h&&e[h]&&(c.startsWith(e[h])||u(t=>e[h]+t.replace(/^\+\d+/,"")))},[h,c]);const[m,p]=(0,r.useState)(!1),[x,y]=(0,r.useState)(null),[b,f]=(0,r.useState)(!1),j=(0,o.Zp)();return(0,a.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"url('/images/sliding barner2.jpg') center center / cover no-repeat",position:"relative"},children:(0,a.jsxs)("div",{style:{background:"rgba(255,255,255,0.10)",borderRadius:16,boxShadow:"0 4px 32px rgba(0,0,0,0.10)",padding:"2rem 1.5rem 1.5rem",minWidth:280,maxWidth:340,width:"100%",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)"},children:[(0,a.jsx)("h1",{style:{color:"#222",fontWeight:800,fontSize:"2.2rem",marginBottom:"1.5rem",textAlign:"center"},children:"Register"}),m&&(0,a.jsx)("p",{style:{textAlign:"center",color:"#888"},children:"Registering..."}),x&&(0,a.jsx)("p",{style:{color:"red",textAlign:"center"},children:x}),b?(0,a.jsxs)("div",{style:{textAlign:"center"},children:[(0,a.jsxs)("p",{style:{color:"#222",fontWeight:700,fontSize:"1.2rem"},children:["Welcome to Sabor Espa\xf1ol, ",e,"!"]}),(0,a.jsx)("p",{style:{color:"#555",marginTop:8},children:"Redirecting you now..."})]}):(0,a.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),p(!0),y(null);try{const t=await(0,i.$)("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:n,password:s,phone:c,country:h})});t.token&&localStorage.setItem("token",t.token),t.user&&localStorage.setItem("user",JSON.stringify(t.user)),f(!0),setTimeout(()=>{j("/"),window.dispatchEvent(new Event("authChange"))},2500)}catch(r){y("Registration failed")}p(!1)},style:{display:"flex",flexDirection:"column",gap:18},children:[(0,a.jsx)("label",{style:{fontWeight:600,marginBottom:4},children:"Name"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0,style:{padding:"0.7em 1em",borderRadius:8,border:"1px solid #ddd",fontSize:"1rem",marginBottom:8}}),(0,a.jsx)("label",{style:{fontWeight:600,marginBottom:4},children:"Email"}),(0,a.jsx)("input",{type:"email",value:n,onChange:e=>l(e.target.value),required:!0,style:{padding:"0.7em 1em",borderRadius:8,border:"1px solid #ddd",fontSize:"1rem",marginBottom:8}}),(0,a.jsx)("label",{style:{fontWeight:600,marginBottom:4},children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",value:c,onChange:e=>u(e.target.value),required:!0,style:{padding:"0.7em 1em",borderRadius:8,border:"1px solid #ddd",fontSize:"1rem",marginBottom:8},placeholder:"Enter your phone number"}),(0,a.jsx)("label",{style:{fontWeight:600,marginBottom:4},children:"Country"}),(0,a.jsxs)("select",{value:h,onChange:e=>g(e.target.value),required:!0,style:{padding:"0.7em 1em",borderRadius:8,border:"1px solid #ddd",fontSize:"1rem",marginBottom:8},children:[(0,a.jsx)("option",{value:"",children:"Select Country"}),(0,a.jsx)("option",{value:"Tanzania",children:"Tanzania"}),(0,a.jsx)("option",{value:"Kenya",children:"Kenya"}),(0,a.jsx)("option",{value:"Uganda",children:"Uganda"}),(0,a.jsx)("option",{value:"Rwanda",children:"Rwanda"}),(0,a.jsx)("option",{value:"Burundi",children:"Burundi"}),(0,a.jsx)("option",{value:"South Africa",children:"South Africa"}),(0,a.jsx)("option",{value:"Nigeria",children:"Nigeria"}),(0,a.jsx)("option",{value:"Ghana",children:"Ghana"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]}),(0,a.jsx)("label",{style:{fontWeight:600,marginBottom:4},children:"Password"}),(0,a.jsx)("input",{type:"password",value:s,onChange:e=>d(e.target.value),required:!0,style:{padding:"0.7em 1em",borderRadius:8,border:"1px solid #ddd",fontSize:"1rem",marginBottom:8}}),(0,a.jsx)("button",{type:"submit",style:{background:"#FFD700",color:"#222",border:"none",borderRadius:8,padding:"0.7em 1.5em",fontWeight:700,fontSize:"1.1rem",marginTop:8,cursor:"pointer"},children:"Register"}),(0,a.jsx)("div",{style:{textAlign:"center",marginTop:12},children:(0,a.jsxs)("span",{style:{color:"#555",fontSize:"0.98rem"},children:["Already have an account? ",(0,a.jsx)("a",{href:"/login",style:{color:"#FFD700",fontWeight:700,textDecoration:"none"},children:"Login"})]})})]})]})})}},862:(e,t,n)=>{n.d(t,{$:()=>i});var r=n(555);const o="https://clothing-site-backend.onrender.com";async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await fetch("".concat(o).concat(e),(0,r.A)({credentials:"include"},t));if(!n.ok)try{const e=await n.json(),t=new Error(e.message||"API error: ".concat(n.status));throw t.data=e,t}catch(i){throw new Error("API error: ".concat(n.status))}return n.json()}}}]);
//# sourceMappingURL=390.3ac5b873.chunk.js.map