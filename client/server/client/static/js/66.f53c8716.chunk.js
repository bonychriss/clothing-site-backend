"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[66],{66:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});var n=r(43),o=r(60),i=r(862),s=r(579);const a=function(){const[e,t]=(0,n.useState)(""),[r,a]=(0,n.useState)(""),[l,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(null),[g,m]=(0,n.useState)(!1),[h,p]=(0,n.useState)(""),x=(0,o.Zp)();return(0,s.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"url('/images/bground.jpg') center center / cover no-repeat",position:"relative"},children:(0,s.jsxs)("div",{style:{background:"rgba(255,255,255,0.10)",borderRadius:16,boxShadow:"0 4px 32px rgba(0,0,0,0.10)",padding:"2rem 1.5rem 1.5rem",minWidth:280,maxWidth:340,width:"100%",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)"},children:[(0,s.jsx)("h1",{style:{color:"#222",fontWeight:800,fontSize:"2.2rem",marginBottom:"1.5rem",textAlign:"center"},children:"Login"}),l&&(0,s.jsx)("p",{style:{textAlign:"center",color:"#888"},children:"Logging in..."}),c&&(0,s.jsx)("p",{style:{color:"red",textAlign:"center"},children:c}),g?(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsxs)("p",{style:{color:"#222",fontWeight:700,fontSize:"1.2rem"},children:["Welcome to Sabor Espa\xf1ol, ",h,"!"]}),(0,s.jsx)("p",{style:{color:"#555",marginTop:8},children:"Redirecting you now..."})]}):(0,s.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(!0),u(null);try{const t=await(0,i.$)("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});localStorage.setItem("token",t.token),t.user&&(localStorage.setItem("user",JSON.stringify(t.user)),p(t.user.name)),m(!0),setTimeout(()=>{t.user&&"admin"===t.user.role?x("/admin"):x("/"),window.dispatchEvent(new Event("authChange"))},2500)}catch(n){u("Invalid email or password")}d(!1)},style:{display:"flex",flexDirection:"column",gap:18},children:[(0,s.jsx)("label",{style:{fontWeight:600,marginBottom:4},children:"Email"}),(0,s.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,style:{padding:"0.7em 1em",borderRadius:8,border:"1px solid #ddd",fontSize:"1rem",marginBottom:8}}),(0,s.jsx)("label",{style:{fontWeight:600,marginBottom:4},children:"Password"}),(0,s.jsx)("input",{type:"password",value:r,onChange:e=>a(e.target.value),required:!0,style:{padding:"0.7em 1em",borderRadius:8,border:"1px solid #ddd",fontSize:"1rem",marginBottom:8}}),(0,s.jsx)("button",{type:"submit",style:{background:"#FFD700",color:"#222",border:"none",borderRadius:8,padding:"0.7em 1.5em",fontWeight:700,fontSize:"1.1rem",marginTop:8,cursor:"pointer"},children:"Login"}),(0,s.jsx)("div",{style:{textAlign:"center",marginTop:12},children:(0,s.jsxs)("span",{style:{color:"#555",fontSize:"0.98rem"},children:["Don't have an account? ",(0,s.jsx)("a",{href:"/register",style:{color:"#FFD700",fontWeight:700,textDecoration:"none"},children:"Register"})]})})]})]})})}},862:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(555);const o="https://clothing-site-backend.onrender.com";async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await fetch("".concat(o).concat(e),(0,n.A)({credentials:"include"},t));if(!r.ok)try{const e=await r.json(),t=new Error(e.message||"API error: ".concat(r.status));throw t.data=e,t}catch(i){throw new Error("API error: ".concat(r.status))}return r.json()}}}]);
//# sourceMappingURL=66.f53c8716.chunk.js.map